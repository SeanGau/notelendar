{% extends '/base.pug' %}

{% block main %}
.d-flex.flex-column.h-100
  #table-block: table.table.table-dark.table-striped
    thead.sticky-top: tr
      th.date: .d-grid: a#add-col.btn.btn-primary(href="#") 新增欄
      {% for key in headers.keys() %}
      th.p-0 
        textarea.note-key.form-control(data-note-key="{{key}}") {{headers[key]}}
      {% endfor %}
    {% for row in data %}
    tr
      th.date {{row['object_date']}}
      {% for key in headers %}
      td.p-0
        textarea.note-content.form-control(data-note-date="{{row['object_date']}}" data-note-key="{{key}}") {{row['datas'].get(key,'')}}
      {% endfor %}
    {% endfor %}
  #control-bar.pt-2: .container: .py-2.bg-dark.row.g-2
    .col-md-auto
      h3.sticky-top.pe-3
        | hello {{username}}
        a.ms-2.btn.btn-warning(href="/login") 登出
    .col.col-lg-6.ms-auto: .d-grid: .btn-group.mb-2
      a#prev-dates.btn.btn-primary(href="#") 往前
      a.ms-2.btn.btn-primary(href="/?page=0") 今日
      a.ms-2#next-dates.btn.btn-primary(href="#") 往後
{% endblock %}

{% block script %}
script(src="{{ url_for('static', filename='js/home.js') }}") 
{% endblock %}